; Install Workbench Script
; ------------------------
;
; Date: 2016-11-14
; Author: Henrik Noerfjand Stengaard


; Workbench installation
echo ""
echo "Workbench Installation from disk"
echo "--------------------------------"


; Install Workbench 3.1 Workbench
echo ""
echo "Installing Workbench 3.1 Workbench files..."
copy >NIL: DF0: SYSTEMDIR: ALL CLONE


; Print insert Locale disk
LAB insertlocaledisk
echo ""
echo "Please insert Workbench 3.1 Locale disk in DF0:"
ask "Press ENTER to continue"


; Check if disk is present in DF0
DiskInDrive DF0:
if warn
  echo ""
  echo "No disk is inserted in DF0:!"
  SKIP insertlocaledisk back
endif


; Check if disk is Locale disk
IF NOT EXISTS DF0:Countries/great_britain.country
  SKIP insertlocaledisk back
ENDIF 
IF NOT "`which DF0:`" EQ "Locale:"
  SKIP insertlocaledisk back
ENDIF 


; Install Workbench 3.1 Locale
echo ""
echo "Installing Workbench 3.1 Locale files..."
makedir >NIL: SYSTEMDIR:Locale
copy >NIL: DF0: SYSTEMDIR:Locale ALL CLONE


; Print insert Extras disk
LAB insertextrasdisk
echo ""
echo "Please insert Workbench 3.1 Extras disk in DF0:"
ask "Press ENTER to continue"


; Check if disk is present in DF0
DiskInDrive DF0:
if warn
  echo ""
  echo "No disk is inserted in DF0:!"
  SKIP insertextrasdisk back
endif


; Check if disk is Extras disk
IF NOT EXISTS DF0:System/Intellifont
  SKIP insertextrasdisk back
ENDIF 
IF NOT "`which DF0:`" EQ "Extras3.1:"
  SKIP insertextrasdisk back
ENDIF 


; Install Workbench 3.1 Extras
echo ""
echo "Installing Workbench 3.1 Extras files..."
copy >NIL: DF0: SYSTEMDIR: ALL CLONE


; Print insert Fonts disk
LAB insertfontsdisk
echo ""
echo "Please insert Workbench 3.1 Fonts disk in DF0:"
ask "Press ENTER to continue"


; Check if disk is present in DF0
DiskInDrive DF0:
if warn
  echo ""
  echo "No disk is inserted in DF0:!"
  SKIP insertfontsdisk back
endif


; Check if disk is Fonts disk
IF NOT EXISTS DF0:topaz/11
  SKIP insertfontsdisk back
ENDIF
IF NOT "`which DF0:`" EQ "Fonts:"
  SKIP insertfontsdisk back
ENDIF 


; Install Workbench 3.1 Fonts
echo ""
echo "Installing Workbench 3.1 Fonts files..."
makedir >NIL: SYSTEMDIR:Fonts
copy >NIL: DF0: SYSTEMDIR:Fonts ALL CLONE


; Print insert Install disk
LAB insertinstalldisk
echo ""
echo "Please insert Workbench 3.1 Install disk in DF0:"
ask "Press ENTER to continue"


; Check if disk is present in DF0
DiskInDrive DF0:
if warn
  echo ""
  echo "No disk is inserted in DF0:!"
  SKIP insertinstalldisk back
endif


; Check if disk is Install disk
IF NOT EXISTS DF0:HDTools/BRU
  SKIP insertinstalldisk back
ENDIF
IF NOT "`which DF0:`" EQ "Install3.1:"
  SKIP insertinstalldisk back
ENDIF


; Install Workbench 3.1 Install
echo ""
echo "Installing Workbench 3.1 Install files..."
makedir >NIL: SYSTEMDIR:Tools
copy DF0:HDTools/BRU SYSTEMDIR:Tools CLONE
copy DF0:HDTools/HDBackup SYSTEMDIR:Tools CLONE
copy DF0:HDTools/HDBackup.help SYSTEMDIR:Tools CLONE
copy DF0:HDTools/HDToolBox SYSTEMDIR:Tools CLONE
copy DF0:HDTools/HDBackup.info SYSTEMDIR:Tools CLONE
copy DF0:HDTools/HDToolBox.info SYSTEMDIR:Tools CLONE
copy DF0:HDTools/S/BRUtab SYSTEMDIR:S CLONE
copy DF0:HDTools/S/HDBackup.config SYSTEMDIR:S CLONE 
copy DF0:L/FastFileSystem SYSTEMDIR:L CLONE 
copy DF0:Libs/68040.library SYSTEMDIR:Libs CLONE 
copy DF0:Update/Disk.info SYSTEMDIR: CLONE 


; Print insert Storage disk
LAB insertstoragedisk
echo ""
echo "Please insert Workbench 3.1 Storage disk in DF0:"
ask "Press ENTER to continue"


; Check if disk is present in DF0
DiskInDrive DF0:
if warn
  echo ""
  echo "No disk is inserted in DF0:!"
  SKIP insertstoragedisk back
endif


; Check if disk is Storage disk
IF NOT EXISTS DF0:DosDrivers/RAD
  SKIP insertstoragedisk back
ENDIF
IF NOT "`which DF0:`" EQ "Storage3.1:"
  SKIP insertstoragedisk back
ENDIF


; Install Workbench 3.1 Storage
echo ""
echo "Installing Workbench 3.1 Storage files..."
makedir >NIL: SYSTEMDIR:Storage
copy >NIL: DF0: SYSTEMDIR:Storage ALL CLONE
copy DF0:Monitors/PAL SYSTEMDIR:Devs/Monitors CLONE 
copy DF0:Monitors/PAL.info SYSTEMDIR:Devs/Monitors CLONE 
copy DF0:Printers.info SYSTEMDIR:Storage.info CLONE 


; End
echo ""
echo "Workbench installation is complete."
