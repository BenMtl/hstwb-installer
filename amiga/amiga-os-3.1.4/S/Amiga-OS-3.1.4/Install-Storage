; Install Storage
; ---------------
;
; Date: 2018-12-11
; Author: Henrik Noerfjand Stengaard
;
; AmigaDOS script to install from amiga os 3.1.4 storage floppy disk or adf file.


Copy >NIL: "$amigaosdisk:#?.info" SYSTEMDIR:Storage CLONE
Copy >NIL: "$amigaosdisk:Monitors" SYSTEMDIR:Storage/Monitors CLONE
Copy >NIL: "$amigaosdisk:DOSDrivers" SYSTEMDIR:Storage/DOSDrivers CLONE
Copy >NIL: "$amigaosdisk:Printers" SYSTEMDIR:Devs/Printers CLONE
Copy >NIL: "$amigaosdisk:Keymaps" SYSTEMDIR:Devs/Keymaps CLONE

; copy pal or ntsc monitor
INSTALLDIR:C/paltest >T:_paltest
search >NIL: T:_paltest "PAL  (256/512 lines)"
IF $RC EQ 0 VAL
  setenv palmonitor "1"
  Copy >NIL: "SYSTEMDIR:Storage/Monitors/PAL" "SYSTEMDIR:Devs/Monitors" CLONE 
  Copy >NIL: "SYSTEMDIR:Storage/Monitors/PAL.info" "SYSTEMDIR:Devs/Monitors" CLONE  
ELSE
  setenv palmonitor "0"
  Copy >NIL: "SYSTEMDIR:Storage/Monitors/NTSC" "SYSTEMDIR:Devs/Monitors" CLONE 
  Copy >NIL: "SYSTEMDIR:Storage/Monitors/NTSC.info" "SYSTEMDIR:Devs/Monitors" CLONE  
ENDIF

Copy >NIL: "SYSTEMDIR:Storage/Monitors/PAL" "SYSTEMDIR:Devs/Monitors" CLONE 
Copy >NIL: "SYSTEMDIR:Storage/Monitors/PAL.info" "SYSTEMDIR:Devs/Monitors" CLONE  

; copy glowicons to temp directory, if glow icons have been selected
IF "$glowicons" EQ 1 VAL
  MakeDir >NIL: "SYSTEMDIR:Temp"
  MakeDir >NIL: "SYSTEMDIR:Temp/glowicons"
  Copy >NIL: "$amigaosdisk:glowicons" "SYSTEMDIR:Temp/glowicons" ALL CLONE
ENDIF
