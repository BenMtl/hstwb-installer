; Install Amiga OS 3.1.4
; ----------------------
;
; Date: 2018-10-12
; Author: Henrik Noerfjand Stengaard
;
; AmigaDOS script to automate installation of Amiga OS 3.1.4 from either adf files or floppy disks.


; amiga os 3.1.4 installation message
cls
echo "*e[32m" NOLINE
echo "Amiga OS 3.1.4 Installation"
echo "*e[0m*e[1m" NOLINE
echo "---------------------------"
echo "*e[0m" NOLINE 


; Find, install amiga os 3.1.4 from adf and fallback to disk, if self install prefs exists. Otherwise install workbench adf
set installfromadf "0"
IF EXISTS INSTALLDIR:Prefs/Self-Install
  ; run install amiga os 3.1.4 adf, if prefs exists
  IF EXISTS INSTALLDIR:Prefs/Install-Amiga-OS-3.1.4-Adf
    set installfromadf "1"
  ENDIF
ELSE
  echo ""
  set installfromadf "1"
ENDIF


; run install amiga os 3.1.4 from adf, if install from adf is 1 otherwise
IF "$installfromadf" EQ 1 VAL
  Execute "INSTALLDIR:S/Amiga-OS-3.1.4/Install-Amiga-OS-3.1.4-Adf"
ELSE
  Execute "INSTALLDIR:S/Detect-Amiga-OS-Disk"
ENDIF

self install process:
- detect amiga os 3.9
- detect amiga os 3.1.4
- detect amiga os 3.1.0
- if amiga os 3.9 cd-rom is mounted or iso file exist, run install amiga os 3.9. if amiga os 3.1.0 exist ask if both should be installed. goto next
- if amiga os 3.1.0 adf exist, run install amiga os 3.1.0 adf
- if amiga os 3.1.4 adf exist, run install amiga os 3.1.4 adf. if amiga os 3.1.0 exist ask if both should be installed. goto next


echo "Done"

echo ""
echo "Amiga OS 3.1.4 installation is complete."
echo ""

; --------
LAB end
